AudioRecorderApp

Приложение позволяет пользователям записывать аудио, сохранять запись локально, а затем загружать файл на указанный сервер Приложение также поддерживает установку таймера для автоматической остановки записи и загрузки файла на конечную точку сервера с логикой повтора в случае сбоя сети.

Функции
	0.	Запись звука : запуск и остановка записи звука с помощью микрофона устройства.
	0.	Установить таймер : возможность установить таймер (в часах и минутах) для автоматической остановки записи.
	0.	Загрузить аудио : загрузить записанное аудио на сервер, используя предоставленный URL-адрес.
	0.	Проверка состояния сети : проверяет наличие подключения к Интернету перед началом записи или загрузки.
	0.	Разрешения : запрашивает разрешения на использование микрофона для включения записи звука.
	0.	Механизм повтора : Повторная попытка загрузки файла на сервер в случае сбоя с экспоненциальной задержкой.
	0.	Проверка API : проверьте доступность сервера с помощью простого GET-запроса на указанный URL.
	0.	Визуальные индикаторы : отображает индикатор загрузки во время загрузки файлов.
	0.	Обработка ошибок : оповещает пользователя о проблемах с сетью, проблемах с разрешениями, недопустимом вводе и сбоях загрузки.
Разбивка компонентов
1. Управление состоянием
	•	fileName : Сохраняет пользовательское имя файла, предоставленное пользователем.
	•	serverUrl : хранит URL-адрес сервера для конечной точки загрузки.
	•	uploadEndpoint : создает полный URL-адрес конечной точки загрузки с использованием serverUrl.
	•	загрузка : указывает, загружает ли приложение файл в данный момент.
	•	Часы , минуты : сохранение значений таймера для автоматической остановки записи.
	•	timerId : Сохраняет идентификатор таймера для автоматической остановки.
	•	isConnected : проверяет состояние сетевого подключения.
	•	isRecording : Отслеживает, выполняется ли в данный момент запись.
2. Ссылки
	•	recordingRef : используется useRefдля отслеживания текущего экземпляра записи между рендерами.
3. useEffect
	•	Проверка разрешений : запрашивает разрешения на использование микрофона при запуске приложения.
	•	Сетевой прослушиватель : отслеживает изменения в сети и оповещает пользователя в случае отсутствия подключения к Интернету.
4. Функции
handleSaveServerUrl
	•	Сохраняет URL-адрес сервера и создает полную конечную точку загрузки.
	•	Уведомляет пользователя об успешном сохранении URL.
startRecording
	•	Проверяет, ведется ли уже запись, и предотвращает начало новой записи, если это так.
	•	Запрашивает разрешение на использование микрофона.
	•	Проверяет сетевое подключение.
	•	Настраивает параметры звука, позволяющие производить запись.
	•	Начинает запись и сохраняет экземпляр записи в recordingRef.
	•	Если установлены значения таймера, вызывается startTimer.
stopRecording
	•	Останавливает и выгружает текущую запись.
	•	Сбрасывает состояние записи и пытается загрузить файл.
	•	Очищает любой активный таймер.
	•	Вызовы attemptUploadFileдля обработки загрузки.
startTimer
	•	Преобразует часы и минуты в секунды.
	•	Запускает таймер, setTimeoutостанавливающий запись по истечении указанного времени.
clearTimer
	•	Очищает активный таймер, если он установлен.
attemptUploadFile
	•	Управляет повторными попытками загрузки с экспоненциальной задержкой.
	•	Проверяет сетевое подключение перед каждой попыткой загрузки.
	•	Вызывает uploadFileвыполнение фактической загрузки.
uploadFile
	•	Загружает файл в указанное место uploadEndpointс помощью axios.
	•	Создает FormDataобъект с записанным аудиофайлом.
	•	Обрабатывает ошибки, если ответ сервера указывает на сбой.
checkApi
	•	Делает GET-запрос к серверу для проверки его доступности.
	•	Оповещает пользователя о доступности сервера.
5. Компоненты пользовательского интерфейса
	•	TextInput : используется для ввода URL-адреса сервера, имени файла, часов и минут.
	•	Кнопка : позволяет пользователю запускать/останавливать запись, сохранять URL-адрес сервера и проверять подключение к серверу.
	•	ActivityIndicator : отображает индикатор загрузки во время загрузки файла.
Инструкция по применению
	0.	Введите URL сервера : введите URL сервера, на который вы хотите загрузить записи, в предоставленном поле ввода текста. Нажмите «Сохранить URL сервера», чтобы сохранить конечную точку.
	0.	Введите имя файла : (Необязательно) Введите пользовательское имя для аудиофайла. Если оставить поле пустым, будет использовано имя по умолчанию с временной меткой.
	0.	Установить таймер (необязательно) : установите желаемую длительность записи в часах и/или минутах. Если таймер не установлен, вам необходимо вручную остановить запись.
	0.	Запуск/остановка записи : Нажмите «Начать запись», чтобы начать аудиозапись. Если установлен таймер, запись автоматически остановится по истечении времени таймера. Чтобы вручную остановить запись, нажмите «Остановить запись».
	0.	Загрузка : После остановки записи она автоматически попытается загрузиться на сервер. Если сеть недоступна или загрузка не удалась, она повторит попытку с экспоненциальной задержкой до 5 попыток.
	0.	Проверить сервер : используйте кнопку «Проверить сервер», чтобы проверить доступность предоставленного URL-адреса сервера.
	0.	Управление сетью : приложение предупреждает пользователя об отсутствии подключения к Интернету и приостанавливает попытки записи или загрузки до восстановления соединения.
Обработка ошибок и оповещения
	•	Требуется разрешение : предупреждает пользователя, если разрешение на использование микрофона отклонено.
	•	Ошибка сети : оповещения при отсутствии подключения к Интернету.
	•	Неверный ввод : оповещения, если URL-адрес сервера не указан или недействителен.
	•	Проблемы с записью : оповещения в случае возникновения ошибок при запуске или остановке записи.
	•	Ошибки загрузки : оповещения, если загрузка файла не удалась после нескольких попыток.
